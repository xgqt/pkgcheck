
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>pkgcheck cache - perform cache operations &#8212; pkgcheck master documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pkgcheck master documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pkgcheck cache - perform cache operations</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="pkgcheck-cache-perform-cache-operations">
<h1>pkgcheck cache - perform cache operations<a class="headerlink" href="#pkgcheck-cache-perform-cache-operations" title="Permalink to this heading">¶</a></h1>
</section>
<section id="synopsis">
<h1>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h1>
<p>pkgcheck cache [-r REPO] [-h] [--debug] [-q] [-v] [--color BOOLEAN] [--cache-dir CACHE_DIR] [-l | -u | -R] [-f] [-n] [-t CACHE] [-a ARCH] [-p PROFILE] [--commits [tree-ish] | --staged [tree-ish]]</p>
</section>
<section id="description">
<h1>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h1>
<p>Various types of caches are used by pkgcheck. This command supports
running operations on them including updates and removals.</p>
</section>
<section id="optional-arguments">
<h1>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this heading">¶</a></h1>
<dl class="option-list">
<dt><kbd><span class="option">--cache-dir <var>CACHE_DIR</var></span></kbd></dt>
<dd><p>directory to use for storing cache files</p>
</dd>
<dt><kbd><span class="option">-l</span>, <span class="option">--list</span></kbd></dt>
<dd><p>list available caches</p>
</dd>
<dt><kbd><span class="option">-u</span>, <span class="option">--update</span></kbd></dt>
<dd><p>update caches</p>
</dd>
<dt><kbd><span class="option">-R</span>, <span class="option">--remove</span></kbd></dt>
<dd><p>forcibly remove caches</p>
</dd>
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>forcibly update/remove caches</p>
</dd>
<dt><kbd><span class="option">-n</span>, <span class="option">--dry-run</span></kbd></dt>
<dd><p>dry run without performing any changes</p>
</dd>
<dt><kbd><span class="option">-t <var>CACHE</var></span>, <span class="option">--type <var>CACHE</var></span></kbd></dt>
<dd><p>target cache types</p>
</dd>
</dl>
</section>
<section id="repo-options">
<h1>Repo Options<a class="headerlink" href="#repo-options" title="Permalink to this heading">¶</a></h1>
<dl class="option-list">
<dt><kbd><span class="option">-r <var>REPO</var></span>, <span class="option">--repo <var>REPO</var></span></kbd></dt>
<dd><p>target repo</p>
</dd>
</dl>
</section>
<section id="base-options">
<h1>Base Options<a class="headerlink" href="#base-options" title="Permalink to this heading">¶</a></h1>
<dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Show this help message and exit. To get more
information see the related man page.</p>
</dd>
<dt><kbd><span class="option">--debug</span></kbd></dt>
<dd><p>Enable debug checks and show verbose debug output.</p>
</dd>
<dt><kbd><span class="option">-q</span>, <span class="option">--quiet</span></kbd></dt>
<dd><p>Suppress non-error, informational messages.</p>
</dd>
<dt><kbd><span class="option">-v</span>, <span class="option">--verbose</span></kbd></dt>
<dd><p>Increase the verbosity of various output.</p>
</dd>
<dt><kbd><span class="option">--color <var>BOOLEAN</var></span></kbd></dt>
<dd><p>Toggle colored output support. This can be used to forcibly
enable color support when piping output or other sitations
where stdout is not a tty.</p>
</dd>
</dl>
</section>
<section id="arches">
<h1>Arches<a class="headerlink" href="#arches" title="Permalink to this heading">¶</a></h1>
<dl class="option-list">
<dt><kbd><span class="option">-a <var>ARCH</var></span>, <span class="option">--arches <var>ARCH</var></span></kbd></dt>
<dd><p>Comma separated list of arches to enable and disable.</p>
<p>To specify disabled arches prefix them with '-'. Note that when
starting the argument list with a disabled arch an equals sign
must be used, e.g. -a=-arch, otherwise the disabled arch
argument is treated as an option.</p>
<p>By default all repo defined arches are used; however,
stable-related checks (e.g. UnstableOnly) default to the set of
arches having stable profiles in the target repo.</p>
</dd>
</dl>
</section>
<section id="profiles">
<h1>Profiles<a class="headerlink" href="#profiles" title="Permalink to this heading">¶</a></h1>
<dl class="option-list">
<dt><kbd><span class="option">-p <var>PROFILE</var></span>, <span class="option">--profiles <var>PROFILE</var></span></kbd></dt>
<dd><p>Comma separated list of profiles to enable and disable for
scanning. Any profiles specified in this fashion will be the
only profiles that get scanned, skipping any disabled profiles.
In addition, if no profiles are explicitly enabled, all
profiles defined in the target repo's profiles.desc file will be
scanned except those marked as experimental (exp).</p>
<p>To specify disabled profiles prefix them with <code class="docutils literal notranslate"><span class="pre">-</span></code> which
removes the from the list of profiles to be considered. Note
that when starting the argument list with a disabled profile an
equals sign must be used, e.g.  <code class="docutils literal notranslate"><span class="pre">-p=-path/to/profile</span></code>,
otherwise the disabled profile argument is treated as an
option.</p>
<p>The special keywords of <code class="docutils literal notranslate"><span class="pre">stable</span></code>, <code class="docutils literal notranslate"><span class="pre">dev</span></code>, <code class="docutils literal notranslate"><span class="pre">exp</span></code>, and
<code class="docutils literal notranslate"><span class="pre">deprecated</span></code> correspond to the lists of stable, development,
experimental, and deprecated profiles, respectively. Therefore,
to only scan all stable profiles pass the <code class="docutils literal notranslate"><span class="pre">stable</span></code> argument
to --profiles. Additionally the keyword <code class="docutils literal notranslate"><span class="pre">all</span></code> can be used to
scan all defined profiles in the target repo.</p>
</dd>
</dl>
</section>
<section id="git">
<h1>Git<a class="headerlink" href="#git" title="Permalink to this heading">¶</a></h1>
<p>Git repo support for various checks.</p>
<p>Pkgcheck can create virtual package repos from a given git repo's history
in order to provide more info for checks relating to stable requests,
outdated blockers, or local commits. These virtual repos are cached and
updated every run if new commits are detected.</p>
<p>Git repos must have a supported config in order to work properly.
Specifically, pkgcheck assumes that the origin branch exists and tracks
upstream.</p>
<p>Additionally, the origin/HEAD ref must exist. If it doesn't, running <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">remote</span> <span class="pre">set-head</span> <span class="pre">origin</span> <span class="pre">master</span></code> or similar for other branches will create
it.</p>
<dl>
<dt>--commits [tree-ish]</dt><dd><p>Targets are determined from the committed changes compared to a
given reference that defaults to the repo's origin.</p>
<p>For example, to scan all the packages that have been changed in
the current branch compared to the branch named 'old' use
<code class="docutils literal notranslate"><span class="pre">pkgcheck</span> <span class="pre">scan</span> <span class="pre">--commits</span> <span class="pre">old</span></code>. For two separate branches
named 'old' and 'new' use <code class="docutils literal notranslate"><span class="pre">pkgcheck</span> <span class="pre">scan</span> <span class="pre">--commits</span> <span class="pre">old..new</span></code>.</p>
</dd>
<dt>--staged [tree-ish]</dt><dd><p>Targets are determined using all staged changes for the git
repo. Unstaged changes and untracked files are ignored by
temporarily stashing them during the scanning process.</p>
</dd>
</dl>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">pkgcheck cache - perform cache operations</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#optional-arguments">Optional Arguments</a></li>
<li><a class="reference internal" href="#repo-options">Repo Options</a></li>
<li><a class="reference internal" href="#base-options">Base Options</a></li>
<li><a class="reference internal" href="#arches">Arches</a></li>
<li><a class="reference internal" href="#profiles">Profiles</a></li>
<li><a class="reference internal" href="#git">Git</a></li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/man/pkgcheck/cache.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pkgcheck master documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pkgcheck cache - perform cache operations</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2021, pkgcheck contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>